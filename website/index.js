"use strict";(()=>{var M=Object.defineProperty,U=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var D=(t,e,o)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,m=(t,e)=>{for(var o in e||(e={}))N.call(e,o)&&D(t,o,e[o]);if(A)for(var o of A(e))O.call(e,o)&&D(t,o,e[o]);return t},f=(t,e)=>U(t,z(e));var T={name:"sspai",check(t,e){return/sspai.com$/.test(e.host)},beforeReadable(t,e){return t}},L=T;var j=[L],g=j;var q={name:"Obsidian",launch:t=>!!t.markdownContent},k=q;var B=[k],P=B;function E(t){var p,I;let{Readability:e,isProbablyReaderable:o,turndown:x,dompurify:C,completion:b}=window,s=document.cloneNode(!0),i=new URL(location.href),u=g.filter(n=>{let r=!1;try{r=n.check(s,i)}catch(a){console.log(`plugin [${n.name}] check error`,a)}return r}),h=u.reduce((n,r)=>{var a,c;try{return(c=(a=r.beforeReadable)==null?void 0:a.call(r,n,i))!=null?c:n}catch(l){console.log(`plugin [${r.name}] beforeReadable error`,l)}return n},s);o(h)||b(!1);let w=new e(h).parse();if(w===null)return;let R=u.reduce((n,r)=>{var a,c;try{return(c=(a=r.afterReadable)==null?void 0:a.call(r,n,s,i))!=null?c:n}catch(l){console.log(`plugin [${r.name}] afterReadable error`,l)}return n},w),d=f(m({},R),{content:C.sanitize(R.content)}),S=new x({headingStyle:"atx"}).turndown(d.content),y=u.reduce((n,r)=>{var a,c;try{return(c=(a=r.afterMarkdown)==null?void 0:a.call(r,n,d,s,i))!=null?c:n}catch(l){console.log(`plugin [${r.name}] afterMarkdown error`,l)}return n},S);console.log("final markdown content:"),console.log(y);let $=f(m({},d),{markdownContent:y}),v=(I=(p=P.find(n=>n.name===t))==null?void 0:p.launch($,i))!=null?I:!1;b(v)}window.wcfiClip=E;})();
