<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web Clipper on Shortcut</title>
  <link rel="stylesheet" href="assets/typo.css">
  <link rel="stylesheet" href="assets/custom.css">
</head>

<body class="typo">
  <nav>
    <a class="text-link" href="./en.html" alt="english version of this site">English Version</a>
    <a class="icon-github darken-in-dark" href="https://github.com/SilentTiger/web-clipper-on-shortcut/"></a>
  </nav>
  <article>
    <h1 id="header-desc">Web Clipper on Shortcut</h1>
    <p>
      <i>Web Clipper on Shortcut</i> 是一个网页剪藏快捷指令，可以在 Safari 等浏览器上帮你快速剪藏网页正文内容到一些 App。
    </p>
    <h2 id="header-demo">
      效果展示
    </h2>
    <p><i>Web Clipper on Shortcut</i> 目前支持剪藏网页内容到 <i>Obsidian</i>、<i>Craft</i> 和 <i>Bear</i> 三款 App：</p>
    <div class="clip-samples-mobile">
      <figure>
        <video controls preload="metadata" src="assets/video/clip-to-obsidian.mp4#t=0.001"></video>
        <figcaption class="center">剪藏到 Obsidian</figcaption>
      </figure>
      <figure>
        <video controls preload="metadata" src="assets/video/clip-to-craft.mp4#t=0.001"></video>
        <figcaption class="center">剪藏到 Craft</figcaption>
      </figure>
      <figure>
        <video controls preload="metadata" src="assets/video/clip-to-bear.mp4#t=0.001"></video>
        <figcaption class="center">剪藏到 Bear</figcaption>
      </figure>
    </div>
    <p>
      <i>Web Clipper on Shortcut</i> 不仅可以在 iOS 上使用，还能在 macOS 上使用。
    </p>
    <div class="clip-samples-mac center">
      <video controls preload="metadata" src="assets/video/clip-to-bear-mac.mp4#t=0.001"></video>
      <figcaption class="center">剪藏到 Bear mac 端</figcaption>
    </div>

    <h2 id="header-tutorials">
      快速上手
    </h2>
    <p class="center">
      <a href="assets/Web Clipper on Shortcut.shortcut">
        <img class="darken-in-dark" src="assets/main-icon.png" width="150" alt="Web Clipper on Shortcut icon">
      </a>
    </p>
    <p>
      首先点击上面的图标将 <i>Web Clipper on Shortcut</i>下载并导入你的<i>快捷指令</i> App。
    </p>












    <h2 id="header-how">原理</h2>
    <p>
      <i>Web Clipper on Shortcut</i> 的工作过程大致分为 5 个步骤：
    </p>
    <ol>
      <li>获取网页正文内容，排除网页框架、广告等不必要的内容。</li>
      <li>过滤掉正文内容中不安全的部分，比如注入脚本等。</li>
      <li>将正文内容由 html 格式转换为 Markdown 格式。</li>
      <li>将文件内容以 Markdown 格式复制到剪贴板，同时通过 URL Scheme 打开指定 App 并创建文件。</li>
      <li>用户手动粘贴剪藏内容到新创建的文件里。</li>
    </ol>
    <p>上述步骤的具体逻辑大多是通过 JavaScript 实现的，<i>Web Clipper on Shortcut</i> 快捷指令在运行时会将这些 JavaScript 代码从磁盘读取出来，并注入到网页中运行。</p>
    <p>其中前三步分别用 <i>mozilla/readability</i>、<i>cure53/DOMPurify</i> 和 <i>mixmark-io/turndown</i> 这三个开源 JavaScript 库来实现。
    </p>

    <h2 id="header-advance">
      高级用法
    </h2>

    <h2 id="header-security">
      安全与隐私
    </h2>
    <p>
      如前所述，<i>Web Clipper on Shortcut</i> 在运行时会将一段 JavaScript 脚本注入网页中执行，这意味着网页的内容可以被这段 JavaScript
      脚本完整访问。如果你剪藏的网页中正好存在某些敏感信息，而被注入的 JavaScript 脚本中又包含了某些恶意代码，那么这些敏感信息就会有被泄露的风险。事实上，所有的剪藏工具都会存在类似的风险。
    </p>
    <p>
      为了避免出现这种问题，打消大家使用 <i>Web Clipper on Shortcut</i> 时对数据安全的疑虑，<i>Web Clipper on Shortcut</i> 的源代码是完全公开透明的，你可以在 <a
        class="text-link" href="https://github.com/SilentTiger/web-clipper-on-shortcut"
        target="_blank">SilentTiger/web-clipper-on-shortcut</a> 查看 <i>Web Clipper on Shortcut</i>
      的所有源码，你也完全可以下载源码然后自行编译使用。
    </p>
    <p>
      同时，<i>Web Clipper on Shortcut</i> 在将 JavaScript 脚本注入网页前会先通过 MD5 算法检查这段 JavaScript
      脚本是否被篡改过，以避免数据安全风险。验证的判据就保存在快捷指令的源文件中，所以不要轻易相信他人发给你的 <i>Web Clipper on Shortcut</i> 快捷指令文件，因为他可能会修改其中的 MD5
      判据，从而引入存在安全风险的 JavaScript 脚本。
    </p>
    <p>
      <i>Web Clipper on Shortcut</i> 在运行过程本身是不依赖网络的，也不会发送任何数据到第三方服务器。
    </p>
    <h2 id="header-feedback">
      反馈与建议
    </h2>
    <p>
      如果你在使用 <i>Web Clipper on Shortcut</i> 时遇到任何问题，你可以在 <a class="text-link"
        href="https://github.com/SilentTiger/web-clipper-on-shortcut"
        target="_blank">SilentTiger/web-clipper-on-shortcut</a>
      上提出反馈。
    </p>
    <p>
      <i>Web Clipper on Shortcut</i> 目前支持的 App 还比较少，如果你希望 <i>Web Clipper on Shortcut</i> 能支持其他 App，并且你希望支持的 App 可以通过 URL
      Scheme 唤起，那么你也可以在前面那个链接处提一个 issue，我有空了会尽快处理。
    </p>
    <p>
      当然，如果你恰好还懂一点点 JavaScript，那你完全可以给你希望支持的 App 写一个 launcher，然后给 <i>Web Clipper on Shortcut</i> 提交 Pull
      Request。launcher 的具体实现可以参考项目中 src/launcher 目录下的写法。
    </p>
    <p>
      另外，<i>Web Clipper on Shortcut</i> 目前也只针对个别网站做了优化，如果你发现它在剪藏某些网站时效果不理想，比如广告没有去除干净，你也可以提 issue，当然如果你能针对性的实现一个 plugin
      然后提 pull request 就更好啦，plugin 的实现可以参考项目中 src/plugin 目录下的写法。
    </p>
    <h2 id="header-acknowledgments">
      致谢
    </h2>
    <p>
      感谢下面这些项目为 <i>Web Clipper on Shortcut</i> 提供的各种支持。
    </p>
    <dl>
      <dt>
        <cite><a class="text-link" target="mozilla/readability"
            href="https://github.com/mozilla/readability">mozilla/readability</a></cite>
      </dt>
      <dd>
        <i>mozilla/readability</i> 被用于抽取网页正文内容，它也是 <i>Firefox Reader View</i> 的基础库。
      </dd>
    </dl>
    <dl>
      <dt>
        <cite><a class="text-link" target="cure53/DOMPurify"
            href="https://github.com/cure53/DOMPurify">cure53/DOMPurify</a></cite>
      </dt>
      <dd>
        <i>cure53/DOMPurify</i> 被用于过滤掉正文内容中不安全的部分。
      </dd>
    </dl>
    <dl>
      <dt>
        <cite><a class="text-link" target="mixmark-io/turndown"
            href="https://github.com/mixmark-io/turndown">mixmark-io/turndown</a></cite>
      </dt>
      <dd>
        <i>mixmark-io/turndown</i> 被用于将正文内容由 html 格式转换为 Markdown 格式。
      </dd>
    </dl>
    <dl>
      <dt>
        <cite><a class="text-link" target="sofish/typo.css"
            href="https://github.com/sofish/typo.css">sofish/typo.css</a></cite>
      </dt>
      <dd>
        <i>sofish/typo.css</i> 被用于本网页的内容排版和美化。
      </dd>
    </dl>
  </article>
  <aside>
    <ol>
      <li><a href="#header-desc">概要</a></li>
      <li><a href="#header-demo">效果展示</a></li>
      <li><a href="#header-tutorials">快速上手</a></li>
      <li><a href="#header-how">原理</a></li>
      <li><a href="#header-advance">高级用法</a></li>
      <li><a href="#header-security">安全与隐私</a></li>
      <li><a href="#header-feedback">反馈与建议</a></li>
      <li><a href="#header-acknowledgments">致谢</a></li>
    </ol>
  </aside>
  <script src="assets/index.js"></script>
</body>

</html>